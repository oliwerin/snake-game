import{j as x,r as l,c as I,R as w,a as b}from"./vendor.d58909a5.js";const k=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}};k();const a=x.exports.jsx,y=x.exports.jsxs,L=x.exports.Fragment;function R({label:e,onClick:r}){return a("button",{className:"button",type:"button",onClick:()=>{r()},children:e})}var n;(function(e){e.Up="up",e.Right="right",e.Down="down",e.Left="left"})(n||(n={}));const _=400,v=20,S={x:10,y:10},C=n.Right,O=(e,r)=>r===n.Right?e+1:r===n.Left?e-1:e,P=(e,r)=>r===n.Up?e+1:r===n.Down?e-1:e,E=()=>Math.floor(Math.random()*(v-1)),U=(e,r)=>e.find(s=>s.x===r)!==void 0,G=(e,r)=>e.find(s=>s.y===r)!==void 0,A=e=>{let r,s;do r=E(),s=E();while(U(e,r)&&G(e,s));return{x:r,y:s}},M=(e,r)=>{const s=r.find(t=>t.x===e.x&&t.y===e.y)!==void 0,i=e.x===v||e.y===v||e.x===-1||e.y===-1;return s||i};let d=C,u=!1;const j=()=>{l.exports.useEffect(()=>{document.addEventListener("keyup",e=>{switch(e.key){case"ArrowUp":d!==n.Up&&!u&&(d=n.Down,u=!0);break;case"ArrowRight":d!==n.Left&&!u&&(d=n.Right,u=!0);break;case"ArrowDown":d!==n.Down&&!u&&(d=n.Up,u=!0);break;case"ArrowLeft":d!==n.Right&&!u&&(d=n.Left,u=!0);break}})},[])},F=(e,r,s,i)=>{const[t,o]=l.exports.useState([S]),[c,f]=l.exports.useState(A(t));return j(),l.exports.useEffect(()=>{e&&(o([S]),f(A(t)))},[e]),l.exports.useEffect(()=>{const g=setInterval(()=>{if(!e||r)return;const[m]=t,p={x:O(m.x,d),y:P(m.y,d)};if(M(p,t))return s(!0),clearInterval(g);p.x===c.x&&p.y===c.y?(o([p,...t]),f(A(t)),i(t.length)):o([p,...t.filter((N,h)=>h!==0).map((N,h)=>t[h])]),u=!1},_);return()=>{clearInterval(g)}},[t,e,r]),{snakePosition:t,foodPosition:c}};function T({hasGameStarted:e,isGamePaused:r,setIsGameOver:s,setScore:i}){const{snakePosition:t,foodPosition:o}=F(e,r,s,i);return y("div",{className:I("gameArea",{gameStopped:!e||r}),children:[[...Array(v).keys()].map((c,f)=>a(L,{children:[...Array(v).keys()].map((g,m)=>t.find(p=>p.x===f&&p.y===m)===void 0?a("div",{style:{top:`${m}rem`,left:`${f}rem`},className:"boardSegment"}):null)})),a("div",{style:{top:`${o.y}rem`,left:`${o.x}rem`},className:"snakeFood"})]})}function $(){const[e,r]=l.exports.useState(!1),[s,i]=l.exports.useState(!1),[t,o]=l.exports.useState(!1),[c,f]=l.exports.useState(0);return l.exports.useEffect(()=>{t&&(r(!1),i(!1),o(!1))},[t]),y("div",{children:[y("div",{className:"header",children:[y("span",{children:["Score: ",c]}),!e&&a(R,{label:"PLAY",onClick:()=>{r(!0),f(0)}}),e&&a(R,{label:s?"RESUME":"PAUSE",onClick:()=>{i(!s)}})]}),y("div",{className:"gameContainer",children:[(!e||s||t)&&a("div",{className:"overlay"}),a(T,{hasGameStarted:e,isGamePaused:s,setIsGameOver:o,setScore:f})]}),a("div",{className:"footer",children:"Controls: \u2190, \u2191, \u2192, \u2193 "})]})}w.render(a(b.StrictMode,{children:a($,{})}),document.getElementById("root"));
